filebeat.inputs:
- type: log
  enabled: true
  paths:
    - "/usr/share/filebeat/input_logs/*.txt"
  fields:
    log_type: "mozilla-build"
  fields_under_root: true
  # CONFIGURATION CRITIQUE POUR FICHIERS ANCIENS :
  ignore_older: 87600h
  scan_frequency: 10s
  close_inactive: 2h
  clean_inactive: 175200h
  clean_removed: false
  close_renamed: false
  close_removed: false
  # FORCER LA RE-LECTURE :
  tail_files: false

processors:
  - add_fields:
      target: ''
      fields:
        environment: 'development'
        project: 'mozilla-build-analysis'

output.logstash:
  hosts: ["logstash:5044"]
  bulk_max_size: 1024
  timeout: 30

# Logs détaillés pour le débogage
logging.level: debug